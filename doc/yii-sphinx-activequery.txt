
*yii/sphinx/ActiveQuery*   >> |yii/sphinx/Query|
========================

DESCRIPTION
------------------------------------------------------------------------------

 An ActiveQuery can be a normal query or be used in a relational context.

 ActiveQuery instances are usually created by 'ActiveRecord::find()' and
 'ActiveRecord::findBySql()'. Relational queries are created by
 'ActiveRecord::hasOne()' and 'ActiveRecord::hasMany()'.

 Normal Query ------------

 Because ActiveQuery extends from 'Query', one can use query methods, such as
 'where()', 'orderBy()' to customize the query options.

 ActiveQuery also provides the following additional query options:


   - 'with()': list of relations that this query should be performed
   with. 
   - 'indexBy()': the name of the column by which the query result
   should be indexed. 
   - 'asArray()': whether to return each record as an array.

 These options can be configured using methods of the same name. For example:

   $articles = Article::find()->with('source')->asArray()->all();

 ActiveQuery allows to build the snippets using sources provided by
 ActiveRecord. You can use 'snippetByModel()' method to enable this. For
 example:

   class Article extends ActiveRecord
   {
       public function getSource()
       {
           return $this->hasOne('db', ArticleDb::className(), ['id' => 'id']);
       }

       public function getSnippetSource()
       {
           return $this->source->content;
       }

       ...
   }

   $articles = Article::find()->with('source')->snippetByModel()->all();

 Relational query ----------------

 In relational context ActiveQuery represents a relation between two Active
 Record classes.

 Relational ActiveQuery instances are usually created by calling
 'ActiveRecord::hasOne()' and 'ActiveRecord::hasMany()'. An Active Record
 class declares a relation by defining a getter method which calls one of the
 above methods and returns the created ActiveQuery object.

 A relation is specified by 'link' which represents the association between
 columns of different tables; and the multiplicity of the relation is
 indicated by 'multiple'.

 If a relation involves a junction table, it may be specified by 'via()'. This
 methods may only be called in a relational context. Same is true for
 'inverseOf()', which marks a relation as inverse of another relation.


PROPERTY DETAILS
------------------------------------------------------------------------------

$where					*yii/sphinx/ActiveQuery::$where*

 See |yii/db/QueryTrait::$where|

$limit					*yii/sphinx/ActiveQuery::$limit*

 See |yii/db/QueryTrait::$limit|

$offset					*yii/sphinx/ActiveQuery::$offset*

 See |yii/db/QueryTrait::$offset|

$orderBy				*yii/sphinx/ActiveQuery::$orderBy*

 See |yii/db/QueryTrait::$orderBy|

$indexBy				*yii/sphinx/ActiveQuery::$indexBy*

 See |yii/db/QueryTrait::$indexBy|

$select					*yii/sphinx/ActiveQuery::$select*

 See |yii/db/Query::$select|

$selectOption				*yii/sphinx/ActiveQuery::$selectOption*

 See |yii/db/Query::$selectOption|

$distinct				*yii/sphinx/ActiveQuery::$distinct*

 See |yii/db/Query::$distinct|

$from					*yii/sphinx/ActiveQuery::$from*

 See |yii/db/Query::$from|

$groupBy				*yii/sphinx/ActiveQuery::$groupBy*

 See |yii/db/Query::$groupBy|

$join					*yii/sphinx/ActiveQuery::$join*

 See |yii/db/Query::$join|

$having					*yii/sphinx/ActiveQuery::$having*

 See |yii/db/Query::$having|

$union					*yii/sphinx/ActiveQuery::$union*

 See |yii/db/Query::$union|

$params					*yii/sphinx/ActiveQuery::$params*

 See |yii/db/Query::$params|

$match					*yii/sphinx/ActiveQuery::$match*

 See |yii/sphinx/Query::$match|

$within					*yii/sphinx/ActiveQuery::$within*

 See |yii/sphinx/Query::$within|

$options				*yii/sphinx/ActiveQuery::$options*

 See |yii/sphinx/Query::$options|

$snippetCallback			*yii/sphinx/ActiveQuery::$snippetCallback*

 See |yii/sphinx/Query::$snippetCallback|

$snippetOptions				*yii/sphinx/ActiveQuery::$snippetOptions*

 See |yii/sphinx/Query::$snippetOptions|

$facets					*yii/sphinx/ActiveQuery::$facets*

 See |yii/sphinx/Query::$facets|

$showMeta				*yii/sphinx/ActiveQuery::$showMeta*

 See |yii/sphinx/Query::$showMeta|

$groupLimit				*yii/sphinx/ActiveQuery::$groupLimit*

 See |yii/sphinx/Query::$groupLimit|

$multiple				*yii/sphinx/ActiveQuery::$multiple*

 See |yii/db/ActiveRelationTrait::$multiple|

$primaryModel				*yii/sphinx/ActiveQuery::$primaryModel*

 See |yii/db/ActiveRelationTrait::$primaryModel|

$link					*yii/sphinx/ActiveQuery::$link*

 See |yii/db/ActiveRelationTrait::$link|

$via					*yii/sphinx/ActiveQuery::$via*

 See |yii/db/ActiveRelationTrait::$via|

$inverseOf				*yii/sphinx/ActiveQuery::$inverseOf*

 See |yii/db/ActiveRelationTrait::$inverseOf|

$modelClass				*yii/sphinx/ActiveQuery::$modelClass*

 See |yii/db/ActiveQueryTrait::$modelClass|

$with					*yii/sphinx/ActiveQuery::$with*

 See |yii/db/ActiveQueryTrait::$with|

$asArray				*yii/sphinx/ActiveQuery::$asArray*

 See |yii/db/ActiveQueryTrait::$asArray|

$sql					*yii/sphinx/ActiveQuery::$sql*

 (string) The SQL statement to be executed for retrieving AR records. This is
 set by 'ActiveRecord::findBySql()'.

$behaviors				*yii/sphinx/ActiveQuery::$behaviors*

 See |yii/base/Component::$behaviors|

$connection				*yii/sphinx/ActiveQuery::$connection*

 See |yii/sphinx/Query::$connection|



METHOD DETAILS
------------------------------------------------------------------------------


*yii/sphinx/ActiveQuery::className*			public

 See |yii/base/Object::className|


*yii/sphinx/ActiveQuery::__construct*			public
>
 __construct($modelClass, $config='[]')
<
return (void)

    [$modelClass] (array) The model class associated with this query
    [$config] (array) Configurations to be applied to the newly created query
    object


*yii/sphinx/ActiveQuery::init*				public
>
 init()
<
return (void)

 This method is called at the end of the constructor. The default
 implementation will trigger an 'EVENT_INIT' event. If you override this
 method, make sure you call the parent implementation at the end to ensure
 triggering of the event.


*yii/sphinx/ActiveQuery::__get*				public

 See |yii/base/Component::__get|


*yii/sphinx/ActiveQuery::__set*				public

 See |yii/base/Component::__set|


*yii/sphinx/ActiveQuery::__isset*				public

 See |yii/base/Component::__isset|


*yii/sphinx/ActiveQuery::__unset*				public

 See |yii/base/Component::__unset|


*yii/sphinx/ActiveQuery::__call*				public

 See |yii/base/Component::__call|


*yii/sphinx/ActiveQuery::hasProperty*			public

 See |yii/base/Component::hasProperty|


*yii/sphinx/ActiveQuery::canGetProperty*			public

 See |yii/base/Component::canGetProperty|


*yii/sphinx/ActiveQuery::canSetProperty*			public

 See |yii/base/Component::canSetProperty|


*yii/sphinx/ActiveQuery::hasMethod*			public

 See |yii/base/Component::hasMethod|


*yii/sphinx/ActiveQuery::__clone*				public

 See |yii/db/ActiveRelationTrait::__clone|


*yii/sphinx/ActiveQuery::behaviors*			public

 See |yii/base/Component::behaviors|


*yii/sphinx/ActiveQuery::hasEventHandlers*		public

 See |yii/base/Component::hasEventHandlers|


*yii/sphinx/ActiveQuery::on*				public

 See |yii/base/Component::on|


*yii/sphinx/ActiveQuery::off*				public

 See |yii/base/Component::off|


*yii/sphinx/ActiveQuery::trigger*				public

 See |yii/base/Component::trigger|


*yii/sphinx/ActiveQuery::getBehavior*			public

 See |yii/base/Component::getBehavior|


*yii/sphinx/ActiveQuery::getBehaviors*			public

 See |yii/base/Component::getBehaviors|


*yii/sphinx/ActiveQuery::attachBehavior*			public

 See |yii/base/Component::attachBehavior|


*yii/sphinx/ActiveQuery::attachBehaviors*			public

 See |yii/base/Component::attachBehaviors|


*yii/sphinx/ActiveQuery::detachBehavior*			public

 See |yii/base/Component::detachBehavior|


*yii/sphinx/ActiveQuery::detachBehaviors*			public

 See |yii/base/Component::detachBehaviors|


*yii/sphinx/ActiveQuery::ensureBehaviors*			public

 See |yii/base/Component::ensureBehaviors|


*yii/sphinx/ActiveQuery::indexBy*				public

 See |yii/db/QueryTrait::indexBy|


*yii/sphinx/ActiveQuery::where*				public

 See |yii/db/QueryTrait::where|


*yii/sphinx/ActiveQuery::andWhere*			public

 See |yii/db/QueryTrait::andWhere|


*yii/sphinx/ActiveQuery::orWhere*				public

 See |yii/db/QueryTrait::orWhere|


*yii/sphinx/ActiveQuery::filterWhere*			public

 See |yii/db/QueryTrait::filterWhere|


*yii/sphinx/ActiveQuery::andFilterWhere*			public

 See |yii/db/QueryTrait::andFilterWhere|


*yii/sphinx/ActiveQuery::orFilterWhere*			public

 See |yii/db/QueryTrait::orFilterWhere|


*yii/sphinx/ActiveQuery::filterCondition*			protected

 See |yii/db/QueryTrait::filterCondition|


*yii/sphinx/ActiveQuery::isEmpty*				protected

 See |yii/db/QueryTrait::isEmpty|


*yii/sphinx/ActiveQuery::orderBy*				public

 See |yii/db/QueryTrait::orderBy|


*yii/sphinx/ActiveQuery::addOrderBy*			public

 See |yii/db/QueryTrait::addOrderBy|


*yii/sphinx/ActiveQuery::normalizeOrderBy*		protected

 See |yii/db/QueryTrait::normalizeOrderBy|


*yii/sphinx/ActiveQuery::limit*				public

 See |yii/db/QueryTrait::limit|


*yii/sphinx/ActiveQuery::offset*				public

 See |yii/db/QueryTrait::offset|


*yii/sphinx/ActiveQuery::createCommand*			public
>
 createCommand($db='null')
<
return (\yii\sphinx\Command) The created DB command instance.

    [$db] (\yii\sphinx\Connection) The DB connection used to create the DB
    command. If null, the DB connection returned by 'modelClass' will be used.


*yii/sphinx/ActiveQuery::prepare*				public

 See |yii/db/Query::prepare|


*yii/sphinx/ActiveQuery::batch*				public

 See |yii/db/Query::batch|


*yii/sphinx/ActiveQuery::each*				public

 See |yii/db/Query::each|


*yii/sphinx/ActiveQuery::all*				public
>
 all($db='null')
<
return (array) The query results. If the query results in nothing, an empty array
will be returned.

    [$db] (\yii\sphinx\Connection) The DB connection used to create the DB
    command. If null, the DB connection returned by 'modelClass' will be used.


*yii/sphinx/ActiveQuery::populate*			public
>
 populate($rows)
<
return (array) The converted query result



 This method is internally used to convert the data fetched from database into
 the format as required by this query.



    [$rows] (array) The raw query result from database


*yii/sphinx/ActiveQuery::one*				public
>
 one($db='null')
<
return (\yii\sphinx\ActiveRecord|array|null) A single row of query result. Depending
on the setting of 'asArray', the query result may be either an array or an
ActiveRecord object. Null will be returned if the query results in nothing.

    [$db] (\yii\sphinx\Connection) The DB connection used to create the DB
    command. If null, the DB connection returned by 'modelClass' will be used.


*yii/sphinx/ActiveQuery::scalar*				public

 See |yii/db/Query::scalar|


*yii/sphinx/ActiveQuery::column*				public

 See |yii/db/Query::column|


*yii/sphinx/ActiveQuery::count*				public

 See |yii/db/Query::count|


*yii/sphinx/ActiveQuery::sum*				public

 See |yii/db/Query::sum|


*yii/sphinx/ActiveQuery::average*				public

 See |yii/db/Query::average|


*yii/sphinx/ActiveQuery::min*				public

 See |yii/db/Query::min|


*yii/sphinx/ActiveQuery::max*				public

 See |yii/db/Query::max|


*yii/sphinx/ActiveQuery::exists*				public

 See |yii/db/Query::exists|


*yii/sphinx/ActiveQuery::queryScalar*			protected

 See |yii/db/Query::queryScalar|


*yii/sphinx/ActiveQuery::select*				public

 See |yii/db/Query::select|


*yii/sphinx/ActiveQuery::addSelect*			public

 See |yii/db/Query::addSelect|


*yii/sphinx/ActiveQuery::distinct*			public

 See |yii/db/Query::distinct|


*yii/sphinx/ActiveQuery::from*				public

 See |yii/db/Query::from|


*yii/sphinx/ActiveQuery::andFilterCompare*		public

 See |yii/db/Query::andFilterCompare|


*yii/sphinx/ActiveQuery::join*				public

 See |yii/db/Query::join|


*yii/sphinx/ActiveQuery::innerJoin*			public

 See |yii/db/Query::innerJoin|


*yii/sphinx/ActiveQuery::leftJoin*			public

 See |yii/db/Query::leftJoin|


*yii/sphinx/ActiveQuery::rightJoin*			public

 See |yii/db/Query::rightJoin|


*yii/sphinx/ActiveQuery::groupBy*				public

 See |yii/db/Query::groupBy|


*yii/sphinx/ActiveQuery::addGroupBy*			public

 See |yii/db/Query::addGroupBy|


*yii/sphinx/ActiveQuery::having*				public

 See |yii/db/Query::having|


*yii/sphinx/ActiveQuery::andHaving*			public

 See |yii/db/Query::andHaving|


*yii/sphinx/ActiveQuery::orHaving*			public

 See |yii/db/Query::orHaving|


*yii/sphinx/ActiveQuery::union*				public

 See |yii/db/Query::union|


*yii/sphinx/ActiveQuery::params*				public

 See |yii/db/Query::params|


*yii/sphinx/ActiveQuery::addParams*			public

 See |yii/db/Query::addParams|


*yii/sphinx/ActiveQuery::create*				public

 See |yii/db/Query::create|


*yii/sphinx/ActiveQuery::setConnection*			public

 See |yii/sphinx/Query::setConnection|


*yii/sphinx/ActiveQuery::getConnection*			public

 See |yii/sphinx/Query::getConnection|


*yii/sphinx/ActiveQuery::defaultConnection*		protected
>
 defaultConnection()
<
return (\yii\sphinx\Connection) Default connection value.








*yii/sphinx/ActiveQuery::search*				public

 See |yii/sphinx/Query::search|


*yii/sphinx/ActiveQuery::match*				public

 See |yii/sphinx/Query::match|


*yii/sphinx/ActiveQuery::options*				public

 See |yii/sphinx/Query::options|


*yii/sphinx/ActiveQuery::addOptions*			public

 See |yii/sphinx/Query::addOptions|


*yii/sphinx/ActiveQuery::within*				public

 See |yii/sphinx/Query::within|


*yii/sphinx/ActiveQuery::addWithin*			public

 See |yii/sphinx/Query::addWithin|


*yii/sphinx/ActiveQuery::groupLimit*			public

 See |yii/sphinx/Query::groupLimit|


*yii/sphinx/ActiveQuery::facets*				public

 See |yii/sphinx/Query::facets|


*yii/sphinx/ActiveQuery::addFacets*			public

 See |yii/sphinx/Query::addFacets|


*yii/sphinx/ActiveQuery::showMeta*			public

 See |yii/sphinx/Query::showMeta|


*yii/sphinx/ActiveQuery::snippetCallback*			public

 See |yii/sphinx/Query::snippetCallback|


*yii/sphinx/ActiveQuery::snippetOptions*			public

 See |yii/sphinx/Query::snippetOptions|


*yii/sphinx/ActiveQuery::fillUpSnippets*			protected

 See |yii/sphinx/Query::fillUpSnippets|


*yii/sphinx/ActiveQuery::callSnippets*			protected
>
 callSnippets($source)
<
return (array) Snippets list.







    [$source] (array) The source data to extract a snippet from.


*yii/sphinx/ActiveQuery::callSnippetsInternal*		protected

 See |yii/sphinx/Query::callSnippetsInternal|


*yii/sphinx/ActiveQuery::via*				public

 See |yii/db/ActiveRelationTrait::via|


*yii/sphinx/ActiveQuery::inverseOf*			public

 See |yii/db/ActiveRelationTrait::inverseOf|


*yii/sphinx/ActiveQuery::findFor*				public

 See |yii/db/ActiveRelationTrait::findFor|


*yii/sphinx/ActiveQuery::populateRelation*		public

 See |yii/db/ActiveRelationTrait::populateRelation|


*yii/sphinx/ActiveQuery::asArray*				public

 See |yii/db/ActiveQueryTrait::asArray|


*yii/sphinx/ActiveQuery::with*				public

 See |yii/db/ActiveQueryTrait::with|


*yii/sphinx/ActiveQuery::findWith*			public

 See |yii/db/ActiveQueryTrait::findWith|


*yii/sphinx/ActiveQuery::snippetByModel*			public
>
 snippetByModel()
<
return ($this) The query object itself

 For example:

   class Article extends ActiveRecord
   {
       public function getSnippetSource()
       {
           return file_get_contents('/path/to/source/files/' . $this->id .
 '.txt');;
       }
   }

   $articles = Article::find()->snippetByModel()->all();

 Warning: this option should NOT be used with 'asArray' at the same time!


*yii/sphinx/ActiveQuery::fetchSnippetSourceFromModels*	protected
>
 fetchSnippetSourceFromModels($models)
<
return (array) Snippet source strings

    [$models] (\yii\sphinx\ActiveRecord[]) Raw query result rows.



 vim:tw=78:ts=8:ft=help:norl:
