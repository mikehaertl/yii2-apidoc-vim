
*yii/sphinx/Connection*   >> |yii/db/Connection|
=======================

DESCRIPTION
------------------------------------------------------------------------------

 This class uses [PDO](http://www.php.net/manual/en/ref.pdo.php) to maintain
 such connection. Note: although PDO supports numerous database drivers, this
 class supports only MySQL.

 In order to setup Sphinx "searchd" to support MySQL protocol following
 configuration should be added:

 ''' searchd {     listen = localhost:9306:mysql41     ... } '''

 The following example shows how to create a Connection instance and establish
 the Sphinx connection:

   $connection = new \yii\db\Connection([
       'dsn' => 'mysql:host=127.0.0.1;port=9306;',
       'username' => $username,
       'password' => $password,
   ]);
   $connection->open();

 After the Sphinx connection is established, one can execute SQL statements
 like the following:

   $command = $connection->createCommand("SELECT * FROM idx_article WHERE
 MATCH('programming')");
   $articles = $command->queryAll();
   $command = $connection->createCommand('UPDATE idx_article SET status=2
 WHERE id=1');
   $command->execute();

 For more information about how to perform various DB queries, please refer to
 'Command'.

 This class supports transactions exactly as "yii\db\Connection".

 Note: while this class extends "yii\db\Connection" some of its methods are
 not supported.


PROPERTY DETAILS
------------------------------------------------------------------------------

$dsn					*yii/sphinx/Connection::$dsn*

 See |yii/db/Connection::$dsn|

$username				*yii/sphinx/Connection::$username*

 See |yii/db/Connection::$username|

$password				*yii/sphinx/Connection::$password*

 See |yii/db/Connection::$password|

$attributes				*yii/sphinx/Connection::$attributes*

 See |yii/db/Connection::$attributes|

$pdo					*yii/sphinx/Connection::$pdo*

 See |yii/db/Connection::$pdo|

$enableSchemaCache			*yii/sphinx/Connection::$enableSchemaCache*

 See |yii/db/Connection::$enableSchemaCache|

$schemaCacheDuration			*yii/sphinx/Connection::$schemaCacheDuration*

 See |yii/db/Connection::$schemaCacheDuration|

$schemaCacheExclude			*yii/sphinx/Connection::$schemaCacheExclude*

 See |yii/db/Connection::$schemaCacheExclude|

$schemaCache				*yii/sphinx/Connection::$schemaCache*

 See |yii/db/Connection::$schemaCache|

$enableQueryCache			*yii/sphinx/Connection::$enableQueryCache*

 See |yii/db/Connection::$enableQueryCache|

$queryCacheDuration			*yii/sphinx/Connection::$queryCacheDuration*

 See |yii/db/Connection::$queryCacheDuration|

$queryCache				*yii/sphinx/Connection::$queryCache*

 See |yii/db/Connection::$queryCache|

$charset				*yii/sphinx/Connection::$charset*

 See |yii/db/Connection::$charset|

$emulatePrepare				*yii/sphinx/Connection::$emulatePrepare*

 See |yii/db/Connection::$emulatePrepare|

$tablePrefix				*yii/sphinx/Connection::$tablePrefix*

 See |yii/db/Connection::$tablePrefix|

$schemaMap				*yii/sphinx/Connection::$schemaMap*

 (array) 

 Mapping between PDO driver names and 'Schema' classes. The keys of the array
 are PDO driver names while the values the corresponding schema class name or
 configuration. Please refer to 'Yii::createObject()' for details on how to
 specify a configuration.

 This property is mainly used by 'getSchema()' when fetching the database
 schema information. You normally do not need to set this property unless you
 want to use your own 'Schema' class to support DBMS that is not supported by
 Yii.



$pdoClass				*yii/sphinx/Connection::$pdoClass*

 See |yii/db/Connection::$pdoClass|

$commandClass				*yii/sphinx/Connection::$commandClass*

 See |yii/db/Connection::$commandClass|

$enableSavepoint			*yii/sphinx/Connection::$enableSavepoint*

 See |yii/db/Connection::$enableSavepoint|

$serverStatusCache			*yii/sphinx/Connection::$serverStatusCache*

 See |yii/db/Connection::$serverStatusCache|

$serverRetryInterval			*yii/sphinx/Connection::$serverRetryInterval*

 See |yii/db/Connection::$serverRetryInterval|

$enableSlaves				*yii/sphinx/Connection::$enableSlaves*

 See |yii/db/Connection::$enableSlaves|

$slaves					*yii/sphinx/Connection::$slaves*

 See |yii/db/Connection::$slaves|

$slaveConfig				*yii/sphinx/Connection::$slaveConfig*

 See |yii/db/Connection::$slaveConfig|

$masters				*yii/sphinx/Connection::$masters*

 See |yii/db/Connection::$masters|

$masterConfig				*yii/sphinx/Connection::$masterConfig*

 See |yii/db/Connection::$masterConfig|

$shuffleMasters				*yii/sphinx/Connection::$shuffleMasters*

 See |yii/db/Connection::$shuffleMasters|

$enableLogging				*yii/sphinx/Connection::$enableLogging*

 See |yii/db/Connection::$enableLogging|

$enableProfiling			*yii/sphinx/Connection::$enableProfiling*

 See |yii/db/Connection::$enableProfiling|

$enableFloatConversion			*yii/sphinx/Connection::$enableFloatConversion*

 (bool) Whether to enable conversion of the float query params into the direct
 literal SQL insertion. This allows processing of the float values, since PDO
 does not provide specific param type for float binding, while Sphinx is
 unable to process float values passed as quoted strings.



METHOD DETAILS
------------------------------------------------------------------------------


*yii/sphinx/Connection::className*			public

 See |yii/base/BaseObject::className|


*yii/sphinx/Connection::__construct*			public

 See |yii/base/BaseObject::__construct|


*yii/sphinx/Connection::init*				public

 See |yii/base/BaseObject::init|


*yii/sphinx/Connection::__get*				public

 See |yii/base/Component::__get|


*yii/sphinx/Connection::__set*				public

 See |yii/base/Component::__set|


*yii/sphinx/Connection::__isset*				public

 See |yii/base/Component::__isset|


*yii/sphinx/Connection::__unset*				public

 See |yii/base/Component::__unset|


*yii/sphinx/Connection::__call*				public

 See |yii/base/Component::__call|


*yii/sphinx/Connection::hasProperty*			public

 See |yii/base/Component::hasProperty|


*yii/sphinx/Connection::canGetProperty*			public

 See |yii/base/Component::canGetProperty|


*yii/sphinx/Connection::canSetProperty*			public

 See |yii/base/Component::canSetProperty|


*yii/sphinx/Connection::hasMethod*			public

 See |yii/base/Component::hasMethod|


*yii/sphinx/Connection::__clone*				public

 See |yii/db/Connection::__clone|


*yii/sphinx/Connection::behaviors*			public

 See |yii/base/Component::behaviors|


*yii/sphinx/Connection::hasEventHandlers*			public

 See |yii/base/Component::hasEventHandlers|


*yii/sphinx/Connection::on*				public

 See |yii/base/Component::on|


*yii/sphinx/Connection::off*				public

 See |yii/base/Component::off|


*yii/sphinx/Connection::trigger*				public

 See |yii/base/Component::trigger|


*yii/sphinx/Connection::getBehavior*			public

 See |yii/base/Component::getBehavior|


*yii/sphinx/Connection::getBehaviors*			public

 See |yii/base/Component::getBehaviors|


*yii/sphinx/Connection::attachBehavior*			public

 See |yii/base/Component::attachBehavior|


*yii/sphinx/Connection::attachBehaviors*			public

 See |yii/base/Component::attachBehaviors|


*yii/sphinx/Connection::detachBehavior*			public

 See |yii/base/Component::detachBehavior|


*yii/sphinx/Connection::detachBehaviors*			public

 See |yii/base/Component::detachBehaviors|


*yii/sphinx/Connection::ensureBehaviors*			public

 See |yii/base/Component::ensureBehaviors|


*yii/sphinx/Connection::getIsActive*			public

 See |yii/db/Connection::getIsActive|


*yii/sphinx/Connection::cache*				public

 See |yii/db/Connection::cache|


*yii/sphinx/Connection::noCache*				public

 See |yii/db/Connection::noCache|


*yii/sphinx/Connection::getQueryCacheInfo*		public

 See |yii/db/Connection::getQueryCacheInfo|


*yii/sphinx/Connection::open*				public

 See |yii/db/Connection::open|


*yii/sphinx/Connection::close*				public

 See |yii/db/Connection::close|


*yii/sphinx/Connection::createPdoInstance*		protected

 See |yii/db/Connection::createPdoInstance|


*yii/sphinx/Connection::initConnection*			protected

 See |yii/db/Connection::initConnection|


*yii/sphinx/Connection::createCommand*			public
>
 createCommand($sql='null', $params='[]')
<
return (\yii\sphinx\Command) The Sphinx command

    [$sql] (string) The SQL statement to be executed
    [$params] (array) The parameters to be bound to the SQL statement


*yii/sphinx/Connection::getTransaction*			public

 See |yii/db/Connection::getTransaction|


*yii/sphinx/Connection::beginTransaction*			public

 See |yii/db/Connection::beginTransaction|


*yii/sphinx/Connection::transaction*			public

 See |yii/db/Connection::transaction|


*yii/sphinx/Connection::getSchema*			public

 See |yii/db/Connection::getSchema|


*yii/sphinx/Connection::getQueryBuilder*			public

 See |yii/db/Connection::getQueryBuilder|


*yii/sphinx/Connection::getTableSchema*			public

 See |yii/db/Connection::getTableSchema|


*yii/sphinx/Connection::getLastInsertID*			public
>
 getLastInsertID($sequenceName='''')
<
return (string) The row ID of the last row inserted, or the last value retrieved from
the sequence object

    [$sequenceName] (string) Name of the sequence object


*yii/sphinx/Connection::quoteValue*			public

 See |yii/db/Connection::quoteValue|


*yii/sphinx/Connection::quoteTableName*			public
>
 quoteTableName($name)
<
return (string) The properly quoted table name

    [$name] (string) Table name


*yii/sphinx/Connection::quoteColumnName*			public

 See |yii/db/Connection::quoteColumnName|


*yii/sphinx/Connection::quoteSql*				public

 See |yii/db/Connection::quoteSql|


*yii/sphinx/Connection::getDriverName*			public

 See |yii/db/Connection::getDriverName|


*yii/sphinx/Connection::setDriverName*			public

 See |yii/db/Connection::setDriverName|


*yii/sphinx/Connection::getSlavePdo*			public

 See |yii/db/Connection::getSlavePdo|


*yii/sphinx/Connection::getMasterPdo*			public

 See |yii/db/Connection::getMasterPdo|


*yii/sphinx/Connection::getSlave*				public

 See |yii/db/Connection::getSlave|


*yii/sphinx/Connection::getMaster*			public

 See |yii/db/Connection::getMaster|


*yii/sphinx/Connection::useMaster*			public

 See |yii/db/Connection::useMaster|


*yii/sphinx/Connection::openFromPool*			protected

 See |yii/db/Connection::openFromPool|


*yii/sphinx/Connection::openFromPoolSequentially*		protected

 See |yii/db/Connection::openFromPoolSequentially|


*yii/sphinx/Connection::__sleep*				public

 See |yii/db/Connection::__sleep|


*yii/sphinx/Connection::getIndexSchema*			public
>
 getIndexSchema($name, $refresh='false')
<
return (\yii\sphinx\IndexSchema) Index schema information. Null if the named index
does not exist.

    [$name] (string) Index name.
    [$refresh] (bool) Whether to reload the table schema even if it is found
    in the cache.


*yii/sphinx/Connection::quoteIndexName*			public
>
 quoteIndexName($name)
<
return (string) The properly quoted index name

 If the index name contains schema prefix, the prefix will also be properly
 quoted. If the index name is already quoted or contains special characters
 including '(', ''' and '{{', then this method will do nothing.

    [$name] (string) Index name


*yii/sphinx/Connection::escapeMatchValue*			public
>
 escapeMatchValue($str)
<
return (string) The properly escaped string.

 Make sure you are using this method whenever composing 'MATCH' search
 statement. Note: this method does not perform quoting, you should place the
 result in the quotes an perform additional escaping for it manually, the best
 way to do it is using PDO parameter.

    [$str] (string) String to be escaped.



 vim:tw=78:ts=8:ft=help:norl:
