
*yii/i18n/DbMessageSource*   >> |yii/i18n/MessageSource|
==========================

DESCRIPTION
------------------------------------------------------------------------------

 The database must contain the following two tables:

   CREATE TABLE source_message (
       id INTEGER PRIMARY KEY AUTO_INCREMENT,
       category VARCHAR(32),
       message TEXT
   );

   CREATE TABLE message (
       id INTEGER,
       language VARCHAR(16),
       translation TEXT,
       PRIMARY KEY (id, language),
       CONSTRAINT fk_message_source_message FOREIGN KEY (id)
           REFERENCES source_message (id) ON DELETE CASCADE ON UPDATE RESTRICT
   );

 The 'source_message' table stores the messages to be translated, and the
 'message' table stores the translated messages. The name of these two tables
 can be customized by setting 'sourceMessageTable' and 'messageTable',
 respectively.


PROPERTY DETAILS
------------------------------------------------------------------------------

$forceTranslation			*yii/i18n/DbMessageSource::$forceTranslation*
 See |yii/i18n/MessageSource::$forceTranslation|

$sourceLanguage				*yii/i18n/DbMessageSource::$sourceLanguage*
 See |yii/i18n/MessageSource::$sourceLanguage|

$db					*yii/i18n/DbMessageSource::$db*
 (\yii\db\Connection|string) The DB connection object or the application
 component ID of the DB connection. After the DbMessageSource object is
 created, if you want to change this property, you should only assign it with
 a DB connection object.

$cache					*yii/i18n/DbMessageSource::$cache*
 (\yii\caching\Cache|string) The cache object or the application component ID
 of the cache object. The messages data will be cached using this cache
 object. Note, this property has meaning only in case 'cachingDuration' set to
 non-zero value. After the DbMessageSource object is created, if you want to
 change this property, you should only assign it with a cache object.

$sourceMessageTable			*yii/i18n/DbMessageSource::$sourceMessageTable*
 (string) The name of the source message table.

$messageTable				*yii/i18n/DbMessageSource::$messageTable*
 (string) The name of the translated message table.

$cachingDuration			*yii/i18n/DbMessageSource::$cachingDuration*
 (integer) The time in seconds that the messages can remain valid in cache.
 Use 0 to indicate that the cached data will never expire.

$enableCaching				*yii/i18n/DbMessageSource::$enableCaching*
 (boolean) Whether to enable caching translated messages

$behaviors				*yii/i18n/DbMessageSource::$behaviors*
 (\yii\base\Behavior[]) List of behaviors attached to this component



METHOD DETAILS
------------------------------------------------------------------------------

*yii/i18n/DbMessageSource::className*			public
 See |yii/base/Object::className|


*yii/i18n/DbMessageSource::__construct*			public
 See |yii/base/Object::__construct|


*yii/i18n/DbMessageSource::init*				public
>
 init()
<
(void)

 This method will initialize the 'db' property to make sure it refers to a
 valid DB connection. Configured 'cache' component would also be initialized.


*yii/i18n/DbMessageSource::__get*				public
 See |yii/base/Component::__get|


*yii/i18n/DbMessageSource::__set*				public
 See |yii/base/Component::__set|


*yii/i18n/DbMessageSource::__isset*			public
 See |yii/base/Component::__isset|


*yii/i18n/DbMessageSource::__unset*			public
 See |yii/base/Component::__unset|


*yii/i18n/DbMessageSource::__call*			public
 See |yii/base/Component::__call|


*yii/i18n/DbMessageSource::hasProperty*			public
 See |yii/base/Component::hasProperty|


*yii/i18n/DbMessageSource::canGetProperty*		public
 See |yii/base/Component::canGetProperty|


*yii/i18n/DbMessageSource::canSetProperty*		public
 See |yii/base/Component::canSetProperty|


*yii/i18n/DbMessageSource::hasMethod*			public
 See |yii/base/Component::hasMethod|


*yii/i18n/DbMessageSource::__clone*			public
 See |yii/base/Component::__clone|


*yii/i18n/DbMessageSource::behaviors*			public
 See |yii/base/Component::behaviors|


*yii/i18n/DbMessageSource::hasEventHandlers*		public
 See |yii/base/Component::hasEventHandlers|


*yii/i18n/DbMessageSource::on*				public
 See |yii/base/Component::on|


*yii/i18n/DbMessageSource::off*				public
 See |yii/base/Component::off|


*yii/i18n/DbMessageSource::trigger*			public
 See |yii/base/Component::trigger|


*yii/i18n/DbMessageSource::getBehavior*			public
 See |yii/base/Component::getBehavior|


*yii/i18n/DbMessageSource::getBehaviors*			public
 See |yii/base/Component::getBehaviors|


*yii/i18n/DbMessageSource::attachBehavior*		public
 See |yii/base/Component::attachBehavior|


*yii/i18n/DbMessageSource::attachBehaviors*		public
 See |yii/base/Component::attachBehaviors|


*yii/i18n/DbMessageSource::detachBehavior*		public
 See |yii/base/Component::detachBehavior|


*yii/i18n/DbMessageSource::detachBehaviors*		public
 See |yii/base/Component::detachBehaviors|


*yii/i18n/DbMessageSource::ensureBehaviors*		public
 See |yii/base/Component::ensureBehaviors|


*yii/i18n/DbMessageSource::loadMessages*			protected
>
 loadMessages($category, $language)
<
(array) The loaded messages. The keys are original messages, and the values
are translated messages.

 If translation for specific locale code such as 'en-US' isn't found it tries
 more generic 'en'.
    [$category] (string) The message category
    [$language] (string) The target language


*yii/i18n/DbMessageSource::translate*			public
 See |yii/i18n/MessageSource::translate|


*yii/i18n/DbMessageSource::translateMessage*		protected
 See |yii/i18n/MessageSource::translateMessage|


*yii/i18n/DbMessageSource::loadMessagesFromDb*		protected
>
 loadMessagesFromDb($category, $language)
<
(array) The messages loaded from database.

 You may override this method to customize the message storage in the
 database.
    [$category] (string) The message category.
    [$language] (string) The target language.



 vim:tw=78:ts=8:ft=help:norl:
