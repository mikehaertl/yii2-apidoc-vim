
*yii/sphinx/Command*   >> |yii/db/Command|
====================

DESCRIPTION
------------------------------------------------------------------------------

 A command object is usually created by calling 'Connection::createCommand()'.
 The SQL statement it represents can be set via the 'sql' property.

 To execute a non-query SQL (such as INSERT, REPLACE, DELETE, UPDATE), call
 'execute()'. To execute a SQL statement that returns result data set (such as
 SELECT, CALL SNIPPETS, CALL KEYWORDS), use 'queryAll()', 'queryOne()',
 'queryColumn()', 'queryScalar()', or 'query()'. For example,

   $articles = $connection->createCommand("SELECT * FROM `idx_article` WHERE
 MATCH('programming')")->queryAll();

 Command supports SQL statement preparation and parameter binding just as
 '\yii\db\Command' does.

 Command also supports building SQL statements by providing methods such as
 'insert()', 'update()', etc. For example,

   $connection->createCommand()->update('idx_article', [
       'genre_id' => 15,
       'author_id' => 157,
   ])->execute();

 To build SELECT SQL statements, please use 'Query' and 'QueryBuilder'
 instead.


PROPERTY DETAILS
------------------------------------------------------------------------------

$db					*yii/sphinx/Command::$db*

 (\yii\sphinx\Connection) The Sphinx connection that this command is
 associated with.

$pdoStatement				*yii/sphinx/Command::$pdoStatement*

 See |yii/db/Command::$pdoStatement|

$fetchMode				*yii/sphinx/Command::$fetchMode*

 See |yii/db/Command::$fetchMode|

$params					*yii/sphinx/Command::$params*

 See |yii/db/Command::$params|

$queryCacheDuration			*yii/sphinx/Command::$queryCacheDuration*

 See |yii/db/Command::$queryCacheDuration|

$queryCacheDependency			*yii/sphinx/Command::$queryCacheDependency*

 See |yii/db/Command::$queryCacheDependency|

$behaviors				*yii/sphinx/Command::$behaviors*

 See |yii/base/Component::$behaviors|

$sql					*yii/sphinx/Command::$sql*

 See |yii/db/Command::$sql|

$rawSql					*yii/sphinx/Command::$rawSql*

 See |yii/db/Command::$rawSql|



METHOD DETAILS
------------------------------------------------------------------------------


*yii/sphinx/Command::className*				public

 See |yii/base/Object::className|


*yii/sphinx/Command::__construct*				public

 See |yii/base/Object::__construct|


*yii/sphinx/Command::init*				public

 See |yii/base/Object::init|


*yii/sphinx/Command::__get*				public

 See |yii/base/Component::__get|


*yii/sphinx/Command::__set*				public

 See |yii/base/Component::__set|


*yii/sphinx/Command::__isset*				public

 See |yii/base/Component::__isset|


*yii/sphinx/Command::__unset*				public

 See |yii/base/Component::__unset|


*yii/sphinx/Command::__call*				public

 See |yii/base/Component::__call|


*yii/sphinx/Command::hasProperty*				public

 See |yii/base/Component::hasProperty|


*yii/sphinx/Command::canGetProperty*			public

 See |yii/base/Component::canGetProperty|


*yii/sphinx/Command::canSetProperty*			public

 See |yii/base/Component::canSetProperty|


*yii/sphinx/Command::hasMethod*				public

 See |yii/base/Component::hasMethod|


*yii/sphinx/Command::__clone*				public

 See |yii/base/Component::__clone|


*yii/sphinx/Command::behaviors*				public

 See |yii/base/Component::behaviors|


*yii/sphinx/Command::hasEventHandlers*			public

 See |yii/base/Component::hasEventHandlers|


*yii/sphinx/Command::on*					public

 See |yii/base/Component::on|


*yii/sphinx/Command::off*					public

 See |yii/base/Component::off|


*yii/sphinx/Command::trigger*				public

 See |yii/base/Component::trigger|


*yii/sphinx/Command::getBehavior*				public

 See |yii/base/Component::getBehavior|


*yii/sphinx/Command::getBehaviors*			public

 See |yii/base/Component::getBehaviors|


*yii/sphinx/Command::attachBehavior*			public

 See |yii/base/Component::attachBehavior|


*yii/sphinx/Command::attachBehaviors*			public

 See |yii/base/Component::attachBehaviors|


*yii/sphinx/Command::detachBehavior*			public

 See |yii/base/Component::detachBehavior|


*yii/sphinx/Command::detachBehaviors*			public

 See |yii/base/Component::detachBehaviors|


*yii/sphinx/Command::ensureBehaviors*			public

 See |yii/base/Component::ensureBehaviors|


*yii/sphinx/Command::cache*				public

 See |yii/db/Command::cache|


*yii/sphinx/Command::noCache*				public

 See |yii/db/Command::noCache|


*yii/sphinx/Command::getSql*				public

 See |yii/db/Command::getSql|


*yii/sphinx/Command::setSql*				public

 See |yii/db/Command::setSql|


*yii/sphinx/Command::getRawSql*				public

 See |yii/db/Command::getRawSql|


*yii/sphinx/Command::prepare*				public
>
 prepare($forRead='null')
<
return (void)



 For complex SQL statement that is to be executed multiple times, this may
 improve performance. For SQL statement with binding parameters, this method
 is invoked automatically.



    [$forRead] (boolean) Whether this method is called for a read query. If
    null, it means the SQL statement should be used to determine whether it is
    for read or write.


*yii/sphinx/Command::cancel*				public

 See |yii/db/Command::cancel|


*yii/sphinx/Command::bindParam*				public

 See |yii/db/Command::bindParam|


*yii/sphinx/Command::bindPendingParams*			protected

 See |yii/db/Command::bindPendingParams|


*yii/sphinx/Command::bindValue*				public
>
 bindValue($name, $value, $dataType=null)
<
return ($this) The current command being executed







    [$name] (string|integer) Parameter identifier. For a prepared statement
    using named placeholders, this will be a parameter name of the form
    ':name'. For a prepared statement using question mark placeholders, this
    will be the 1-indexed position of the parameter.
    [$value] (mixed) The value to bind to the parameter
    [$dataType] (integer) SQL data type of the parameter. If null, the type is
    determined by the PHP type of the value.


*yii/sphinx/Command::bindValues*				public
>
 bindValues($values)
<
return ($this) The current command being executed



 This is similar to 'bindValue()' except that it binds multiple values at a
 time. Note that the SQL data type of each value is determined by its PHP
 type.



    [$values] (array) The values to be bound. This must be given in terms of
    an associative array with array keys being the parameter names, and array
    values the corresponding parameter values, e.g. '[':name' => 'John',
    ':age' => 25]'. By default, the PDO type of each value is determined by
    its PHP type. You may explicitly specify the PDO type by using an array:
    '[value, type]', e.g. '[':name' => 'John', ':profile' => [$profile,
    \PDO::PARAM_LOB''.


*yii/sphinx/Command::query*				public

 See |yii/db/Command::query|


*yii/sphinx/Command::queryAll*				public

 See |yii/db/Command::queryAll|


*yii/sphinx/Command::queryOne*				public

 See |yii/db/Command::queryOne|


*yii/sphinx/Command::queryScalar*				public

 See |yii/db/Command::queryScalar|


*yii/sphinx/Command::queryColumn*				public

 See |yii/db/Command::queryColumn|


*yii/sphinx/Command::insert*				public

 See |yii/db/Command::insert|


*yii/sphinx/Command::batchInsert*				public
>
 batchInsert($index, $columns, $rows)
<
return ($this) The command object itself

 For example,

   $connection->createCommand()->batchInsert('idx_user', ['name', 'age'], [
       ['Tom', 30],
       ['Jane', 20],
       ['Linda', 25],
   ])->execute();

 Note that the values in each row must match the corresponding column names.

    [$index] (string) The index that new rows will be inserted into.
    [$columns] (array) The column names
    [$rows] (array) The rows to be batch inserted into the index


*yii/sphinx/Command::update*				public
>
 update($index, $columns, $condition='\'\'', $params='[]', $options='[]')
<
return ($this) The command object itself

 For example,

   $connection->createCommand()->update('user', ['status' => 1], 'age >
 30')->execute();

 The method will properly escape the column names and bind the values to be
 updated.

 Note that the created command is not executed until 'execute()' is called.

    [$index] (string) The index to be updated.
    [$columns] (array) The column data (name => value) to be updated.
    [$condition] (string|array) The condition that will be put in the WHERE
    part. Please refer to 'Query::where()' on how to specify condition.
    [$params] (array) The parameters to be bound to the command
    [$options] (array) List of options in format: optionName => optionValue


*yii/sphinx/Command::delete*				public

 See |yii/db/Command::delete|


*yii/sphinx/Command::createTable*				public
>
 createTable($table, $columns, $options='null')
<
return ($this) The command object itself



 The columns in the new table should be specified as name-definition pairs
 (e.g. 'name' => 'string'), where name stands for a column name which will be
 properly quoted by the method, and definition stands for the column type
 which can contain an abstract DB type. The method
 'QueryBuilder::getColumnType()' will be called to convert the abstract column
 types to physical ones. For example, 'string' will be converted as
 'varchar(255)', and 'string not null' becomes 'varchar(255) not null'.

 If a column is specified with definition only (e.g. 'PRIMARY KEY (name,
 type)'), it will be directly inserted into the generated SQL.



    [$table] (string) The name of the table to be created. The name will be
    properly quoted by the method.
    [$columns] (array) The columns (name => definition) in the new table.
    [$options] (string) Additional SQL fragment that will be appended to the
    generated SQL.


*yii/sphinx/Command::renameTable*				public
>
 renameTable($table, $newName)
<
return ($this) The command object itself







    [$table] (string) The table to be renamed. The name will be properly
    quoted by the method.
    [$newName] (string) The new table name. The name will be properly quoted
    by the method.


*yii/sphinx/Command::dropTable*				public
>
 dropTable($table)
<
return ($this) The command object itself







    [$table] (string) The table to be dropped. The name will be properly
    quoted by the method.


*yii/sphinx/Command::truncateTable*			public
>
 truncateTable($table)
<
return ($this) The command object itself







    [$table] (string) The table to be truncated. The name will be properly
    quoted by the method.


*yii/sphinx/Command::addColumn*				public
>
 addColumn($table, $column, $type)
<
return ($this) The command object itself







    [$table] (string) The table that the new column will be added to. The
    table name will be properly quoted by the method.
    [$column] (string) The name of the new column. The name will be properly
    quoted by the method.
    [$type] (string) The column type. '\yii\db\QueryBuilder::getColumnType()'
    will be called to convert the give column type to the physical one. For
    example, 'string' will be converted as 'varchar(255)', and 'string not
    null' becomes 'varchar(255) not null'.


*yii/sphinx/Command::dropColumn*				public
>
 dropColumn($table, $column)
<
return ($this) The command object itself







    [$table] (string) The table whose column is to be dropped. The name will
    be properly quoted by the method.
    [$column] (string) The name of the column to be dropped. The name will be
    properly quoted by the method.


*yii/sphinx/Command::renameColumn*			public
>
 renameColumn($table, $oldName, $newName)
<
return ($this) The command object itself







    [$table] (string) The table whose column is to be renamed. The name will
    be properly quoted by the method.
    [$oldName] (string) The old name of the column. The name will be properly
    quoted by the method.
    [$newName] (string) The new name of the column. The name will be properly
    quoted by the method.


*yii/sphinx/Command::alterColumn*				public
>
 alterColumn($table, $column, $type)
<
return ($this) The command object itself







    [$table] (string) The table whose column is to be changed. The table name
    will be properly quoted by the method.
    [$column] (string) The name of the column to be changed. The name will be
    properly quoted by the method.
    [$type] (string) The column type. '\yii\db\QueryBuilder::getColumnType()'
    will be called to convert the give column type to the physical one. For
    example, 'string' will be converted as 'varchar(255)', and 'string not
    null' becomes 'varchar(255) not null'.


*yii/sphinx/Command::addPrimaryKey*			public
>
 addPrimaryKey($name, $table, $columns)
<
return ($this) The command object itself.



 The method will properly quote the table and column names.



    [$name] (string) The name of the primary key constraint.
    [$table] (string) The table that the primary key constraint will be added
    to.
    [$columns] (string|array) Comma separated string or array of columns that
    the primary key will consist of.


*yii/sphinx/Command::dropPrimaryKey*			public
>
 dropPrimaryKey($name, $table)
<
return ($this) The command object itself







    [$name] (string) The name of the primary key constraint to be removed.
    [$table] (string) The table that the primary key constraint will be
    removed from.


*yii/sphinx/Command::addForeignKey*			public
>
 addForeignKey($name, $table, $columns, $refTable, $refColumns, $delete='null', $update='null')
<
return ($this) The command object itself



 The method will properly quote the table and column names.



    [$name] (string) The name of the foreign key constraint.
    [$table] (string) The table that the foreign key constraint will be added
    to.
    [$columns] (string|array) The name of the column to that the constraint
    will be added on. If there are multiple columns, separate them with
    commas.
    [$refTable] (string) The table that the foreign key references to.
    [$refColumns] (string|array) The name of the column that the foreign key
    references to. If there are multiple columns, separate them with commas.
    [$delete] (string) The ON DELETE option. Most DBMS support these options:
    RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL
    [$update] (string) The ON UPDATE option. Most DBMS support these options:
    RESTRICT, CASCADE, NO ACTION, SET DEFAULT, SET NULL


*yii/sphinx/Command::dropForeignKey*			public
>
 dropForeignKey($name, $table)
<
return ($this) The command object itself







    [$name] (string) The name of the foreign key constraint to be dropped. The
    name will be properly quoted by the method.
    [$table] (string) The table whose foreign is to be dropped. The name will
    be properly quoted by the method.


*yii/sphinx/Command::createIndex*				public
>
 createIndex($name, $table, $columns, $unique='false')
<
return ($this) The command object itself







    [$name] (string) The name of the index. The name will be properly quoted
    by the method.
    [$table] (string) The table that the new index will be created for. The
    table name will be properly quoted by the method.
    [$columns] (string|array) The column(s) that should be included in the
    index. If there are multiple columns, please separate them by commas. The
    column names will be properly quoted by the method.
    [$unique] (boolean) Whether to add UNIQUE constraint on the created index.


*yii/sphinx/Command::dropIndex*				public
>
 dropIndex($name, $table)
<
return ($this) The command object itself







    [$name] (string) The name of the index to be dropped. The name will be
    properly quoted by the method.
    [$table] (string) The table whose index is to be dropped. The name will be
    properly quoted by the method.


*yii/sphinx/Command::resetSequence*			public
>
 resetSequence($table, $value='null')
<
return ($this) The command object itself



 The sequence will be reset such that the primary key of the next new row
 inserted will have the specified value or 1.



    [$table] (string) The name of the table whose primary key sequence will be
    reset
    [$value] (mixed) The value for the primary key of the next new row
    inserted. If this is not set, the next new row's primary key will have a
    value 1.


*yii/sphinx/Command::checkIntegrity*			public
>
 checkIntegrity($check='true', $schema='''', $table='''')
<
return ($this) The command object itself







    [$check] (boolean) Whether to turn on or off the integrity check.
    [$schema] (string) The schema name of the tables. Defaults to empty
    string, meaning the current or default schema.
    [$table] (string) The table name.


*yii/sphinx/Command::addCommentOnColumn*			public

 See |yii/db/Command::addCommentOnColumn|


*yii/sphinx/Command::addCommentOnTable*			public

 See |yii/db/Command::addCommentOnTable|


*yii/sphinx/Command::dropCommentFromColumn*		public

 See |yii/db/Command::dropCommentFromColumn|


*yii/sphinx/Command::dropCommentFromTable*		public

 See |yii/db/Command::dropCommentFromTable|


*yii/sphinx/Command::execute*				public

 See |yii/db/Command::execute|


*yii/sphinx/Command::queryInternal*			protected

 See |yii/db/Command::queryInternal|


*yii/sphinx/Command::requireTableSchemaRefresh*		protected

 See |yii/db/Command::requireTableSchemaRefresh|


*yii/sphinx/Command::refreshTableSchema*			protected

 See |yii/db/Command::refreshTableSchema|


*yii/sphinx/Command::replace*				public
>
 replace($index, $columns)
<
return ($this) The command object itself

 For example,

   $connection->createCommand()->replace('idx_user', [
       'name' => 'Sam',
       'age' => 30,
   ])->execute();

 The method will properly escape the column names, and bind the values to be
 replaced.

 Note that the created command is not executed until 'execute()' is called.

    [$index] (string) The index that new rows will be replaced into.
    [$columns] (array) The column data (name => value) to be replaced into the
    index.


*yii/sphinx/Command::batchReplace*			public
>
 batchReplace($index, $columns, $rows)
<
return ($this) The command object itself

 For example,

   $connection->createCommand()->batchReplace('idx_user', ['name', 'age'], [
       ['Tom', 30],
       ['Jane', 20],
       ['Linda', 25],
   ])->execute();

 Note that the values in each row must match the corresponding column names.

    [$index] (string) The index that new rows will be replaced.
    [$columns] (array) The column names
    [$rows] (array) The rows to be batch replaced in the index


*yii/sphinx/Command::truncateIndex*			public
>
 truncateIndex($index)
<
return ($this) The command object itself

    [$index] (string) The index to be truncated. The name will be properly
    quoted by the method.


*yii/sphinx/Command::callSnippets*			public
>
 callSnippets($index, $source, $match, $options='[]')
<
return ($this) The command object itself

    [$index] (string) Name of the index, from which to take the text
    processing settings.
    [$source] (string|array) Is the source data to extract a snippet from. It
    could be either a single string or array of strings.
    [$match] (string) The full-text query to build snippets for.
    [$options] (array) List of options in format: optionName => optionValue


*yii/sphinx/Command::callKeywords*			public
>
 callKeywords($index, $text, $fetchStatistic='false')
<
return ($this) The command object itself

    [$index] (string) The name of the index from which to take the text
    processing settings
    [$text] (string) The text to break down to keywords.
    [$fetchStatistic] (boolean) Whether to return document and hit occurrence
    statistics



 vim:tw=78:ts=8:ft=help:norl:
